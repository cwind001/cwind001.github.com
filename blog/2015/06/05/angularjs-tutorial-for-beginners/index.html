
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>MEAN全栈开发：AngularJS实战教程 - 辰风君的笔记本</title>
  <meta name="author" content="辰风君">

  
  <meta name="description" content="本系列教程的主要目的是尽可能清楚地阐释如何使AngularJS与Node.js、Express.js和MongoDB实现的后台服务连接 – 这套技术栈也被称为MEAN stack（M=MongoDB, E = Express.js, A = AngularJS, N = Node.js）。 &hellip;">
  <meta name="keywords" content="MEAN, 全栈开发, Nodejs, Angularjs, Express, MongoDB">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://cwind001.github.io/blog/2015/06/05/angularjs-tutorial-for-beginners/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="辰风君的笔记本" type="application/atom+xml">
  <link href='http://fonts.useso.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.useso.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.useso.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.useso.com/css?family=Special+Elite:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.useso.com/css?family=Marko+One:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.useso.com/css?family=Lato:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">辰风君的笔记本</a></h1>
  
    <h2>Cwind’s Technical Notes</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://www.bing.com" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:cwind001.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">首页</a></li>
  <li><a href="/blog/archives">文章存档</a></li>
  <li><a href="/blog/translation">外文翻译</a></li>
  <li><a href="/about">关于我</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      
        <h1 class="entry-title">MEAN全栈开发：AngularJS实战教程</h1>
      
    
    
      <p class="meta">
        



<time class='entry-date' datetime='2015-06-05T21:36:10+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>9:36 pm</span></time>
		
        
          | <a href="#comments">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>本系列教程的主要目的是尽可能清楚地阐释如何使AngularJS与Node.js、Express.js和MongoDB实现的后台服务连接 – 这套技术栈也被称为MEAN stack（M=MongoDB, E = Express.js, A = AngularJS, N = Node.js）。让我们从AngularJS开始。  </p>

<h1 id="angularjs">第一部分：AngularJS</h1>

<p>我们将会在一个单独的HTML文件中构建所有的示例，它将嵌入javascript，同时为了简化，我们并不关心样式/CSS。我们将在后续教程中讨论如何利用angularJS模块来分解代码，加入测试以及样式。<br />
<!--more--></p>

<p><strong>Angular.js是什么？</strong><br />
<img src="http://dl.iteye.com/upload/picture/pic/133659/9d9848ea-e94e-322c-9d73-f7d9c072146f.jpg" /><br />
Angular.js是一个MVW（模型-视图-随便什么）开源的JavaScript Web框架，使得创建单页应用（SPA）和数据驱动的应用更加方便快捷。  </p>

<h2 id="section">背景简介</h2>
<p><strong>AngularJS vs jQuery vs BackbonesJS vs EmberJS</strong><br />
AngularJS非常适用于构建可测试的单页应用（SPA），以及数据驱动的CRUD应用。  </p>

<p>AngularJS的格言是：”HTML enhanced for web apps（为网络应用增强HTML）！”。它扩展了标准HTML标签和属性，用以绑定事件和数据。它与其他js库诸如jQuery, Backbones.JS和Ember.js等采用了不同的处理方法——它们更接近于“Unobtrusive JavaScript（译者注：此词叫法不一，为防止误解保留原文。<a href="http://www.thinksaas.cn/group/topic/285570/">了解更多</a>）”。  </p>

<p>传统的Unobtrusive JavaScript的处理方式是，通过ID或元素中的class获取将要操作的元素，而不是通过在这些元素上添加事件处理器。这样做的好处是使得结构（HTML）和行为（Javascript）分离。然而，它对降低代码复杂度和增强可读性并没有帮助。  </p>

<p>随着时间的发展前端技术也在演变。让我们来看一下AngularJS是如何尝试降低代码复杂读和增强可读性的。  </p>

<ul>
  <li><strong>单元测试</strong>：通常来说，当DOM的操作与业务逻辑结合在一起时，JavaScript是非常难以进行单元测试的（例如基于jQuery的代码）。AngularJS将DOM的操作保持在HTML内部，与业务逻辑相分离。数据和依赖在需要的时候通过$inject注入。</li>
  <li><strong>DOM操作</strong>：将DOM操作与应用逻辑解耦。</li>
  <li><strong>单页应用（SPA）</strong>：AngularJS是用于创建单页应用的不二之选。</li>
  <li><strong>全局命名空间</strong>：表达式和方法定义在controllers中并限制在其范围内，因此它们并不会污染全局命名空间。</li>
  <li><strong>数据模型</strong>：普通老式Java对象（POJO）。</li>
  <li><strong>写更少的代码</strong>：AngularJS的主要特性诸如指令（directives），过滤器（filters）以及自动数据绑定减少了代码量。</li>
  <li>AngularJS提供了编写模块化的代码和依赖管理的解决方案。  </li>
</ul>

<h2 id="angularjs-1">AngularJS主要组件</h2>

<h3 id="angularjs-2">AngularJS指令</h3>

<p>关于AngularJS，你需要了解的第一个概念就是指令（directives）。</p>

<p><strong>Directives</strong>是指HTML标记扩展，通常以属性、元素名称、CSS类甚至HTML注释等形式存在。当AngularJS框架被加载之后，ng-app指令中的一切 – 数据、事件和DOM转换将与该指令绑定。</p>

<p>请注意，在下面的例子中有两个指令：ng-app和ng-model。  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption class="code-header"><span>Hello World in AngularJS </span></figcaption>
 <table class="CodeRay"><tr>
  <td class="line-numbers"><pre><a href="#n1" name="n1">1</a>
<a href="#n2" name="n2">2</a>
<a href="#n3" name="n3">3</a>
<a href="#n4" name="n4">4</a>
<a href="#n5" name="n5">5</a>
<a href="#n6" name="n6">6</a>
<a href="#n7" name="n7">7</a>
<a href="#n8" name="n8">8</a>
<a href="#n9" name="n9">9</a>
<strong><a href="#n10" name="n10">10</a></strong>
<a href="#n11" name="n11">11</a>
<a href="#n12" name="n12">12</a>
</pre></td>
  <td class="code"><pre>  
<span class="tag">&lt;html</span> <span class="attribute-name">ng-app</span><span class="tag">&gt;</span>
<span class="tag">&lt;head&gt;</span>
  <span class="tag">&lt;title&gt;</span>Hello World in AngularJS<span class="tag">&lt;/title&gt;</span>
<span class="tag">&lt;/head&gt;</span>
<span class="tag">&lt;body&gt;</span>

<span class="tag">&lt;input</span> <span class="attribute-name">ng-model</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span> Hello { { name } }

<span class="tag">&lt;script</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular.min.js</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/script&gt;</span>
<span class="tag">&lt;/body&gt;</span>
<span class="tag">&lt;/html&gt;</span>
</pre></td>
</tr></table>
 </figure></notextile></div>

<p>让我们了解一下主要的内嵌指令：  </p>

<ul>
  <li><strong>ng-app</strong>: 是一个用于引导AngularJS的指令，它同时把调用者元素指派为根。通常置于&lt;html&gt;或&lt;body&gt;标签上  </li>
  <li><strong>ng-model</strong>: 是一个用于绑定如input、select、checkboxes、textarea或其他定制页面元素到一个称为$scope的属性上的指令。有关$scope和数据绑定将在下一节中详细介绍。现在我们只需要记住文本框的值被绑定到 {{ name }}上  </li>
  <li><strong>{{ name }}</strong>:  {{ }} 是绑定模型到HTML页面元素的一种方式。在上面的示例中ng-model 名字被绑定到占位符{{ name }}。  </li>
</ul>

<p>你可能在猜想添加这个指令是否会使HTML验证器产生警告，提示存在未知的或非标准化的属性 —— 的确如此。然而，这可以通过在每个Angular.js指令前添加 ‘data-‘前缀并且作为属性、类或者注释而不是作为元素来使用加以解决。让我们看看下面的示例，同时来创建自己的指令：  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption class="code-header"><span>Directive types: elements, attributes, comments and classes </span></figcaption>
 <table class="CodeRay"><tr>
  <td class="line-numbers"><pre><a href="#n1" name="n1">1</a>
<a href="#n2" name="n2">2</a>
<a href="#n3" name="n3">3</a>
<a href="#n4" name="n4">4</a>
<a href="#n5" name="n5">5</a>
<a href="#n6" name="n6">6</a>
</pre></td>
  <td class="code"><pre>  
  <span class="tag">&lt;hello&gt;</span>Element<span class="tag">&lt;/hello&gt;</span> Element
  <span class="tag">&lt;div</span> <span class="attribute-name">data-hello</span><span class="tag">&gt;</span>Attribute<span class="tag">&lt;/div&gt;</span> data-Attribute
  <span class="tag">&lt;div</span> <span class="attribute-name">hello</span><span class="tag">&gt;</span>Attribute<span class="tag">&lt;/div&gt;</span> Attribute
  <span class="comment">&lt;!-- directive: hello --&gt;</span> Comment
  <span class="tag">&lt;p</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">hello</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/p&gt;</span> Class
</pre></td>
</tr></table>
 </figure></notextile></div>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption class="code-header"><span>Custom AngularJS directives </span></figcaption>
 <table class="CodeRay"><tr>
  <td class="line-numbers"><pre><a href="#n1" name="n1">1</a>
<a href="#n2" name="n2">2</a>
<a href="#n3" name="n3">3</a>
<a href="#n4" name="n4">4</a>
<a href="#n5" name="n5">5</a>
<a href="#n6" name="n6">6</a>
<a href="#n7" name="n7">7</a>
<a href="#n8" name="n8">8</a>
<a href="#n9" name="n9">9</a>
<strong><a href="#n10" name="n10">10</a></strong>
</pre></td>
  <td class="code"><pre>  
<span class="keyword">var</span> app = angular.module(<span class="string"><span class="delimiter">'</span><span class="content">app</span><span class="delimiter">'</span></span>, []);

app.directive(<span class="string"><span class="delimiter">'</span><span class="content">hello</span><span class="delimiter">'</span></span>, [<span class="keyword">function</span> () {
  <span class="keyword">return</span> {
    <span class="key">restrict</span>: <span class="string"><span class="delimiter">'</span><span class="content">CEMA</span><span class="delimiter">'</span></span>, <span class="comment">// C: class, E: element, M: comments, A: attributes</span>
    <span class="key">replace</span>: <span class="predefined-constant">true</span>, <span class="comment">// replaces original content with template</span>
    <span class="key">template</span>: <span class="string"><span class="delimiter">'</span><span class="content">&lt;span&gt;&lt;br&gt;Hello&lt;/span&gt;</span><span class="delimiter">'</span></span>
  }
}]);
</pre></td>
</tr></table>
 </figure></notextile></div>

<p>如果你对指令的其他选项感兴趣，可以阅读 <a href="http://www.sitepoint.com/practical-guide-angularjs-directives/">A Practical Guide to AngularJS Directives</a></p>

<h3 id="angularjs-3">AngularJS数据绑定</h3>
<p>数据绑定是AngularJS的特性之一，它使得模型数据可以与HTML自动同步。这非常了不起因为模型是“唯一的真相来源”同时你不需要关心如何去更新它。这里有一张来自docs.angularjs.org的图：<br />
<img src="http://dl.iteye.com/upload/picture/pic/133665/3d238e26-a15f-3865-b217-1e8723407f67.png" />  </p>

<p>无论什么时候HTML发生变化时，模型将会被更新；同时无论什么时候模型被更新时，它将会反映到HTML上。  </p>

<h3 id="angularjs-4">AngularJS作用域</h3>
<p>$scope是一个包含了HTML绑定的所有数据的对象。它是javascript代码(controllers)与视图(HTML)之间的胶水。附加在$scope上的所有数据，将会被AngularJS自动地”$watch”以及更新。  </p>

<p>作用域可以绑定到javascript函数上。你也可以使用多个$scope，或者从外部$scope继承。在控制器一节中我们将继续深入讨论。  </p>

<h3 id="angularjs-5">AngularJS控制器</h3>
<p>AngularJS控制器是用于”控制”包含了特定DOM元素的区域的代码段。它们封装了行为、回调函数并且把$scope模型和视图粘合起来。让我们通过下面示例代码来加深对此概念的理解：  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption class="code-header"><span>AngularJS Controller Example </span></figcaption>
 <table class="CodeRay"><tr>
  <td class="line-numbers"><pre><a href="#n1" name="n1">1</a>
<a href="#n2" name="n2">2</a>
<a href="#n3" name="n3">3</a>
<a href="#n4" name="n4">4</a>
<a href="#n5" name="n5">5</a>
<a href="#n6" name="n6">6</a>
<a href="#n7" name="n7">7</a>
<a href="#n8" name="n8">8</a>
<a href="#n9" name="n9">9</a>
<strong><a href="#n10" name="n10">10</a></strong>
<a href="#n11" name="n11">11</a>
<a href="#n12" name="n12">12</a>
<a href="#n13" name="n13">13</a>
<a href="#n14" name="n14">14</a>
<a href="#n15" name="n15">15</a>
<a href="#n16" name="n16">16</a>
<a href="#n17" name="n17">17</a>
<a href="#n18" name="n18">18</a>
<a href="#n19" name="n19">19</a>
<strong><a href="#n20" name="n20">20</a></strong>
<a href="#n21" name="n21">21</a>
<a href="#n22" name="n22">22</a>
</pre></td>
  <td class="code"><pre>  
<span class="tag">&lt;body</span> <span class="attribute-name">ng-controller</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">TodoController</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;ul&gt;</span>
    <span class="tag">&lt;li</span> <span class="attribute-name">ng-repeat</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">todo in todos</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;input</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">checkbox</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">ng-model</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">todo.completed</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      { { todo.name } }
    <span class="tag">&lt;/li&gt;</span>
  <span class="tag">&lt;/ul&gt;</span>

  <span class="tag">&lt;script&gt;</span>
<span class="inline">    <span class="keyword">function</span> <span class="function">TodoController</span>(<span class="predefined">$scope</span>){
      <span class="predefined">$scope</span>.todos = [
        { <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">Master HTML/CSS/Javascript</span><span class="delimiter">'</span></span>, <span class="key">completed</span>: <span class="predefined-constant">true</span> },
        { <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">Learn AngularJS</span><span class="delimiter">'</span></span>, <span class="key">completed</span>: <span class="predefined-constant">false</span> },
        { <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">Build NodeJS backend</span><span class="delimiter">'</span></span>, <span class="key">completed</span>: <span class="predefined-constant">false</span> },
        { <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">Get started with ExpressJS</span><span class="delimiter">'</span></span>, <span class="key">completed</span>: <span class="predefined-constant">false</span> },
        { <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">Setup MongoDB database</span><span class="delimiter">'</span></span>, <span class="key">completed</span>: <span class="predefined-constant">false</span> },
        { <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">Be awesome!</span><span class="delimiter">'</span></span>, <span class="key">completed</span>: <span class="predefined-constant">false</span> },
      ]
    }</span>
  <span class="tag">&lt;/script&gt;</span>
<span class="tag">&lt;/body&gt;</span>
</pre></td>
</tr></table>
 </figure></notextile></div>

<p>你可能会注意到这些新朋友：ng-controller, ng-repeat和$scope  </p>

<ul>
  <li><strong>ng-controller</strong> 是一个指令，它告诉angular对于特定的视图应当使用哪个控制器。每当AngularJS加载时，它读取该指令的参数（示例中是”TodoController”）。然后，它在javascript对象(POJO)中查找具有相同名字的函数，或者查找与angular.controller匹配的名字。</li>
  <li><strong>$scope</strong>，正如之前提到的，$scope是粘合控制器中数据模型和视图的胶水。看一下我们的”TodoController”，它有一个名为$scope的参数。AngularJS将会传递（注入）那个参数，以及与其相关的所有数据，从而使其在视图中可用。示例中主要是todos这个对象数组。</li>
  <li><strong>ng-repeat</strong>，正如其名，它将会在声明该指令的地方“重复”输出元素及其子元素。对于示例，它将会遍历$scope.todos数组中的每一个元素。</li>
  <li><strong>ng-model</strong>，请注意复选框被绑定到todo.completed属性。如果todo.completed为true，复选框将被自动选中，反之亦然。</li>
</ul>

<h3 id="angularjs-6">AngularJS模块</h3>
<p>模块是用来封装应用中不同部分（指令、控制器、工厂……）的一种方式，可以方便地在其他地方重用。这里有一个通过模块来重写我们之前的控制器的实例：  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption class="code-header"><span>Custom AngularJS directives </span></figcaption>
 <table class="CodeRay"><tr>
  <td class="line-numbers"><pre><a href="#n1" name="n1">1</a>
<a href="#n2" name="n2">2</a>
<a href="#n3" name="n3">3</a>
<a href="#n4" name="n4">4</a>
<a href="#n5" name="n5">5</a>
<a href="#n6" name="n6">6</a>
<a href="#n7" name="n7">7</a>
<a href="#n8" name="n8">8</a>
<a href="#n9" name="n9">9</a>
<strong><a href="#n10" name="n10">10</a></strong>
<a href="#n11" name="n11">11</a>
</pre></td>
  <td class="code"><pre>  
angular.module(<span class="string"><span class="delimiter">'</span><span class="content">app</span><span class="delimiter">'</span></span>, [])
  .controller(<span class="string"><span class="delimiter">'</span><span class="content">TodoController</span><span class="delimiter">'</span></span>, [<span class="string"><span class="delimiter">'</span><span class="content">$scope</span><span class="delimiter">'</span></span>, <span class="keyword">function</span> (<span class="predefined">$scope</span>) {
    <span class="predefined">$scope</span>.todos = [
      { <span class="key">title</span>: <span class="string"><span class="delimiter">'</span><span class="content">Learn Javascript</span><span class="delimiter">'</span></span>, <span class="key">completed</span>: <span class="predefined-constant">true</span> },
      { <span class="key">title</span>: <span class="string"><span class="delimiter">'</span><span class="content">Learn Angular.js</span><span class="delimiter">'</span></span>, <span class="key">completed</span>: <span class="predefined-constant">false</span> },
      { <span class="key">title</span>: <span class="string"><span class="delimiter">'</span><span class="content">Love this tutorial</span><span class="delimiter">'</span></span>, <span class="key">completed</span>: <span class="predefined-constant">true</span> },
      { <span class="key">title</span>: <span class="string"><span class="delimiter">'</span><span class="content">Learn Javascript design patterns</span><span class="delimiter">'</span></span>, <span class="key">completed</span>: <span class="predefined-constant">false</span> },
      { <span class="key">title</span>: <span class="string"><span class="delimiter">'</span><span class="content">Build Node.js backend</span><span class="delimiter">'</span></span>, <span class="key">completed</span>: <span class="predefined-constant">false</span> },
    ];
  }]);
</pre></td>
</tr></table>
 </figure></notextile></div>

<p>使用模块可以带来许多好处，比如可以以任意顺序加载模块，并行加载依赖，测试可以只加载需要的模块以加快速度，使得依赖关系更加清晰。  </p>

<h3 id="angularjs-7">AngularJS模板</h3>
<p>模板同时包含HTML与Angular元素（指令、标记、过滤器或表单控件）。它们可以被缓存或者被通过id引用。  </p>

<p>这里有一个示例：  </p>

<div class="bogus-wrapper"><notextile><figure class="code"> <table class="CodeRay"><tr>
  <td class="line-numbers"><pre><a href="#n1" name="n1">1</a>
<a href="#n2" name="n2">2</a>
<a href="#n3" name="n3">3</a>
<a href="#n4" name="n4">4</a>
<a href="#n5" name="n5">5</a>
<a href="#n6" name="n6">6</a>
<a href="#n7" name="n7">7</a>
<a href="#n8" name="n8">8</a>
<a href="#n9" name="n9">9</a>
</pre></td>
  <td class="code"><pre>  
  <span class="tag">&lt;script</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text/ng-template</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">/todos.html</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
<span class="inline">    <span class="tag">&lt;ul&gt;</span>
      <span class="tag">&lt;li</span> <span class="attribute-name">ng-repeat</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">todo in todos</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;input</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">checkbox</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">ng-model</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">todo.completed</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
       
      <span class="tag">&lt;/li&gt;</span>
    <span class="tag">&lt;/ul&gt;</span></span>
  <span class="tag">&lt;/script&gt;</span>
</pre></td>
</tr></table>
 </figure></notextile></div>

<p>代码看起来眼熟吗？；）</p>

<p>请注意script标签中的类型属性为“text/ng-template”。</p>

<h3 id="angularjsngroutes">AngularJS路由（ngRoutes）</h3>
<p>ngRoutes模块使得我们能够更改我们在应用中看到的东西，基于URL(路由)。通常，它使用模板向应用中注入HTML。  </p>

<p>它并没有包含在AngularJS核心模块里面，我们必须将其作为一个依赖引入。我们可以从Google CDN上获取它：  </p>

<p><code>&lt;script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular-route.min.js"&gt;&lt;/script&gt;</code></p>

<p><strong>新功能</strong>：向todo任务中添加记录。让我们从路由开始。  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption class="code-header"><span>Custom AngularJS directives </span></figcaption>
 <table class="CodeRay"><tr>
  <td class="line-numbers"><pre><a href="#n1" name="n1">1</a>
<a href="#n2" name="n2">2</a>
<a href="#n3" name="n3">3</a>
<a href="#n4" name="n4">4</a>
<a href="#n5" name="n5">5</a>
<a href="#n6" name="n6">6</a>
<a href="#n7" name="n7">7</a>
<a href="#n8" name="n8">8</a>
<a href="#n9" name="n9">9</a>
<strong><a href="#n10" name="n10">10</a></strong>
<a href="#n11" name="n11">11</a>
</pre></td>
  <td class="code"><pre>  

angular.module(<span class="string"><span class="delimiter">'</span><span class="content">app</span><span class="delimiter">'</span></span>, [<span class="string"><span class="delimiter">'</span><span class="content">ngRoute</span><span class="delimiter">'</span></span>])
  .config([<span class="string"><span class="delimiter">'</span><span class="content">$routeProvider</span><span class="delimiter">'</span></span>, <span class="keyword">function</span> (<span class="predefined">$routeProvider</span>) {
    <span class="predefined">$routeProvider</span>
      .when(<span class="string"><span class="delimiter">'</span><span class="content">/</span><span class="delimiter">'</span></span>, {
        <span class="key">templateUrl</span>: <span class="string"><span class="delimiter">'</span><span class="content">/todos.html</span><span class="delimiter">'</span></span>,
        <span class="key">controller</span>: <span class="string"><span class="delimiter">'</span><span class="content">TodoController</span><span class="delimiter">'</span></span>
      });
  }]);

</pre></td>
</tr></table>
 </figure></notextile></div>

<ul>
  <li>首先请注意我们将ng-controller=”TodoController”从body标签移除了。现在控制器将通过路由被调用。</li>
  <li>ngView是$routeProvider所使用的指令，用于渲染HTML。每次URL变化时，一个新的HTML模板和控制器将会被注入ngView。</li>
</ul>

<h3 id="angularjs-8">AngularJS服务（工厂）</h3>
<p>请注意目前暂时无法创建第二个控制器并共享$scope.todos。当我们使用服务时，就方便了许多。服务是我们将数据依赖注入到控制器中的一种方式，他们通过工厂生成。我们看实例：</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption class="code-header"><span>Custom AngularJS directives </span></figcaption>
 <table class="CodeRay"><tr>
  <td class="line-numbers"><pre><a href="#n1" name="n1">1</a>
<a href="#n2" name="n2">2</a>
<a href="#n3" name="n3">3</a>
<a href="#n4" name="n4">4</a>
<a href="#n5" name="n5">5</a>
<a href="#n6" name="n6">6</a>
<a href="#n7" name="n7">7</a>
<a href="#n8" name="n8">8</a>
<a href="#n9" name="n9">9</a>
<strong><a href="#n10" name="n10">10</a></strong>
<a href="#n11" name="n11">11</a>
<a href="#n12" name="n12">12</a>
<a href="#n13" name="n13">13</a>
<a href="#n14" name="n14">14</a>
<a href="#n15" name="n15">15</a>
<a href="#n16" name="n16">16</a>
<a href="#n17" name="n17">17</a>
<a href="#n18" name="n18">18</a>
<a href="#n19" name="n19">19</a>
<strong><a href="#n20" name="n20">20</a></strong>
</pre></td>
  <td class="code"><pre>  
 angular.module(<span class="string"><span class="delimiter">'</span><span class="content">app</span><span class="delimiter">'</span></span>, [<span class="string"><span class="delimiter">'</span><span class="content">ngRoute</span><span class="delimiter">'</span></span>])

    .factory(<span class="string"><span class="delimiter">'</span><span class="content">Todos</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>(){
      <span class="keyword">return</span> [
        { <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">AngularJS Directives</span><span class="delimiter">'</span></span>, <span class="key">completed</span>: <span class="predefined-constant">true</span> },
        { <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">Data binding</span><span class="delimiter">'</span></span>, <span class="key">completed</span>: <span class="predefined-constant">true</span> },
        { <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">$scope</span><span class="delimiter">'</span></span>, <span class="key">completed</span>: <span class="predefined-constant">true</span> },
        { <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">Controllers and Modules</span><span class="delimiter">'</span></span>, <span class="key">completed</span>: <span class="predefined-constant">true</span> },
        { <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">Templates and routes</span><span class="delimiter">'</span></span>, <span class="key">completed</span>: <span class="predefined-constant">true</span> },
        { <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">Filters and Services</span><span class="delimiter">'</span></span>, <span class="key">completed</span>: <span class="predefined-constant">false</span> },
        { <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">Get started with Node/ExpressJS</span><span class="delimiter">'</span></span>, <span class="key">completed</span>: <span class="predefined-constant">false</span> },
        { <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">Setup MongoDB database</span><span class="delimiter">'</span></span>, <span class="key">completed</span>: <span class="predefined-constant">false</span> },
        { <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">Be awesome!</span><span class="delimiter">'</span></span>, <span class="key">completed</span>: <span class="predefined-constant">false</span> },
      ];
    })

    .controller(<span class="string"><span class="delimiter">'</span><span class="content">TodoController</span><span class="delimiter">'</span></span>, [<span class="string"><span class="delimiter">'</span><span class="content">$scope</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Todos</span><span class="delimiter">'</span></span>, <span class="keyword">function</span> (<span class="predefined">$scope</span>, Todos) {
      <span class="predefined">$scope</span>.todos = Todos;
    }])
</pre></td>
</tr></table>
 </figure></notextile></div>

<p>我们现在把数据依赖“Todo”注入到控制器中。通过这种方式我们可以在需要的任何控制器或模块中重用这些数据。不仅可用于静态数据（如上例中的数组），也可以用于通过$http或$resource从服务器获得的数据。  </p>

<p>我们想要在点击的时候展示任务的细节。为了实现这个需求，我们需要添加同样使用这个服务的第二个控制器、模板以及路由。  </p>

<p>发生的动作如下：<br />
1. 我们在HTML标签中创建了第二个模板 ‘/todoDetails.html’, 它包含了想要展示的待做事项细节<br />
2. 同样，在我们前一个模板 ‘/todos.html’ 我们想要有一个链接指向 todo 细节。我们使用了$index，它是ng-repeat中相应想的序号。<br />
3. 在JS标签中，我们创建了一个新的$routeProvider，它指向一个新的控制器 ‘TodoDetailCtrl’ 与#1中新创建的模板。在控制器中：id参数通过$routeParams来访问。<br />
4. 创建新的控制器 ‘TodoDetailCtrl’并且注入$scope, Todos（工厂）等依赖，以及包含了id参数的$routeParams<br />
5. 在新的控制器中设置$scope。我们将通过第二步中设置的id选择唯一的一个待办事项，而不是整个待办事项数组。  </p>

<p>注意：在codepen中你无法看到URL。如果你想要看到它的变化，你可以在 这里 [ url ]下载整个示例。  </p>

<h3 id="angularjs-9">AngularJS过滤器</h3>

<p>过滤器使你可以格式化并转换双括号里表达式的输出。AngularJS内置了许多有用的过滤器。  </p>

<p><strong>内置过滤器</strong>：</p>

<ul>
  <li><strong>filter</strong>: 在一个数组中查找给定的字符串，返回匹配值。  </li>
  <li><strong>Number</strong>: 在每个千位添加逗号分隔，设置两位小数  </li>
  <li><strong>Currency</strong>：与Number类似，但是最前面添加美元$符号  </li>
  <li><strong>Date</strong>：取一个Unix时间戳（例如：1288323623006）或日期字符串作为输入，用指定的格式输出（例如：‘longDate’或’yyyy’用以表示四位数字的年）。完整列表：https://docs.angularjs.org/api/ng/filter/date  </li>
  <li><strong>JSON</strong>：把javascript对象转换为JSON字符串。  </li>
  <li><strong>lowercase/uppercase</strong>: 把字符串转换为小写/大写  </li>
  <li><strong>limitTo</strong>: 从数组中展示的元素数量  </li>
  <li><strong>orderBy</strong>: 利用指定的key排好序的对象数组  </li>
</ul>

<p><strong>注意</strong>你可以将多个过滤器组合为过滤器链使用，也可以定义你自己的过滤器  </p>

<p><strong>新功能</strong>：通过名字搜索代办任务。让我们使用过滤器来解决这个问题。</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <table class="CodeRay"><tr>
  <td class="line-numbers"><pre><a href="#n1" name="n1">1</a>
<a href="#n2" name="n2">2</a>
<a href="#n3" name="n3">3</a>
<a href="#n4" name="n4">4</a>
<a href="#n5" name="n5">5</a>
<a href="#n6" name="n6">6</a>
<a href="#n7" name="n7">7</a>
<a href="#n8" name="n8">8</a>
<a href="#n9" name="n9">9</a>
<strong><a href="#n10" name="n10">10</a></strong>
</pre></td>
  <td class="code"><pre>  
  <span class="tag">&lt;script</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text/ng-template</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">/todos.html</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
<span class="inline">    Search: &lt;input type=<span class="string"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span> ng-model=<span class="string"><span class="delimiter">&quot;</span><span class="content">search.name</span><span class="delimiter">&quot;</span></span>&gt;
    <span class="tag">&lt;ul&gt;</span>
      <span class="tag">&lt;li</span> <span class="attribute-name">ng-repeat</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">todo in todos | filter: search</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;input</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">checkbox</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">ng-model</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">todo.completed</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#/</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/a&gt;</span>
      <span class="tag">&lt;/li&gt;</span>
    <span class="tag">&lt;/ul&gt;</span></span>
  <span class="tag">&lt;/script&gt;</span>
</pre></td>
</tr></table>
 </figure></notextile></div>

<p>请注意我们在ng-model中使用search.name用于搜索。这将会把搜索限制在’name’属性，search.notes将会只在notes里搜索。猜猜不指定属性只使用‘search’将会做些什么？没错！它会在所有的属性中搜索。  </p>

<h2 id="section-1">下一步？</h2>
<p>祝贺你！你已经完成了第一部分。我们将会使用目前所学构建一些东西。在后续文章中我们将会使用NodeJS和MongoDB搭建后台，连接到AngularJS上来提供一个具备完整功能的CRUD应用。  </p>

<p>第二部分 - <a href="http://gocwind.com/blog/2015/06/09/creating-a-restful-api-tutorial-with-nodejs-and-mongodb/">MEAN全栈开发：使用NodeJS和MongoDB创建REST服务</a>  </p>

<p><img class="left" src="http://dl.iteye.com/upload/picture/pic/133663/abf21050-a55a-347e-9e0f-501586af10c7.png" /><br />
<img src="http://dl.iteye.com/upload/picture/pic/133661/636d3c41-5c03-33a4-af9f-a539fc997fcd.png" />  </p>

<p>第三部分 - <a href="http://gocwind.com/blog/2015/06/09/mean-stack-tutorial-mongodb-expressjs-angularjs-nodejs/">MEAN全栈开发： 前后端整合</a>  </p>

<p>如果想要学习BackboneJS，可以访问我的<a href="http://adrianmejia.com/blog/categories/backbonejs">BackboneJS教程</a>  </p>

<p><strong>ng-test</strong>  </p>

<p>现在是时候测试一下你所学的知识了。测试驱动学习（TDL）;). 挑战如下：使用你最喜欢的编辑器打开<a href="https://gist.githubusercontent.com/amejiarosario/26751cb85d088fd59c28/raw/c2dde0797c8d47d359c2137fc9a15a9228c272ca/index.html">这个文件</a>。拷贝样板代码，构建我们前面例子中完整的应用。当然，当你卡住时你可以不时地参考一下。  </p>

<p>把这个文件下载为：index.html  </p>

<p><strong>ng-solution</strong>  </p>

<p>这里是完整的<a href="https://cdn.rawgit.com/amejiarosario/068143b53e54db43ef38/raw/b703b591bc84f2d59a2a483169294e2fb232419d/ngTodo.html#/">应用展示</a>。  </p>

<p><a href="https://github.com/cwind001/CwindJsLab/tree/master/todoAPIjs">项目代码@Github</a>  </p>

<p>原文链接：<a href="http://adrianmejia.com/blog/2014/09/28/angularjs-tutorial-for-beginners-with-nodejs-expressjs-and-mongodb/">AngularJS Tutorial for Beginners With NodeJS ExpressJS and MongoDB (Part I)</a></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">辰风君</span></span>

      



<time class='updated' datetime='2015-06-05T21:36:10+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>9:36 pm</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/angularjs/'>AngularJS</a>, <a class='category' href='/blog/categories/expressjs/'>ExpressJS</a>, <a class='category' href='/blog/categories/mean/'>MEAN</a>, <a class='category' href='/blog/categories/mongodb/'>MongoDB</a>, <a class='category' href='/blog/categories/nodejs/'>NodeJS</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left articlenav" href="/blog/2015/05/11/lightweight-framework-vs-heavyweight-framework/" title="Previous Post: 轻量级框架与重量级框架">&laquo; 轻量级框架与重量级框架</a>
      
      
        <a class="basic-alignment right articlenav" href="/blog/2015/06/09/creating-a-restful-api-tutorial-with-nodejs-and-mongodb/" title="Next Post: MEAN全栈开发：使用NodeJS和MongoDB创建REST服务">MEAN全栈开发：使用NodeJS和MongoDB创建REST服务 &raquo;</a>
      
    </p>
  </footer>
</article>


  <section>
    <h1>Comments</h1>
    <div id="comments" aria-live="polite"><!-- Duoshuo Comment BEGIN -->
<div class="ds-thread" data-thread-key="/blog/2015/06/05/angularjs-tutorial-for-beginners" data-title="MEAN全栈开发：AngularJS实战教程" data-url="http://cwind001.github.io/blog/2015/06/05/angularjs-tutorial-for-beginners/"></div>
<script type="text/javascript">
  var duoshuoQuery = {short_name:"cwind"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>
<!-- Duoshuo Comment END -->
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>分类</h1>
    <ul id="category-list"><li><a href='/blog/categories/angularjs/'>AngularJS (3)</a></li><li><a href='/blog/categories/ehcache/'>Ehcache (1)</a></li><li><a href='/blog/categories/ejb/'>EJB (1)</a></li><li><a href='/blog/categories/expressjs/'>ExpressJS (3)</a></li><li><a href='/blog/categories/java/'>Java (6)</a></li><li><a href='/blog/categories/mean/'>MEAN (3)</a></li><li><a href='/blog/categories/mongodb/'>MongoDB (3)</a></li><li><a href='/blog/categories/nodejs/'>NodeJS (3)</a></li><li><a href='/blog/categories/spring/'>Spring (1)</a></li></ul>
</section>
<section>
  <h1>近期文章</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/06/09/mean-stack-tutorial-mongodb-expressjs-angularjs-nodejs/">MEAN全栈开发：前后端整合</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/06/09/creating-a-restful-api-tutorial-with-nodejs-and-mongodb/">MEAN全栈开发：使用NodeJS和MongoDB创建REST服务</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/06/05/angularjs-tutorial-for-beginners/">MEAN全栈开发：AngularJS实战教程</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/05/11/lightweight-framework-vs-heavyweight-framework/">轻量级框架与重量级框架</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/04/08/in-processes-vs-distributed-caching/">进程内缓存与分布式缓存的比较</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>标签云</h1>
    <span id="tag-cloud"><a href='/blog/categories/angularjs' style='font-size: 130.0%'>AngularJS(3)</a> <a href='/blog/categories/ehcache' style='font-size: 110.0%'>Ehcache(1)</a> <a href='/blog/categories/ejb' style='font-size: 110.0%'>EJB(1)</a> <a href='/blog/categories/expressjs' style='font-size: 130.0%'>ExpressJS(3)</a> <a href='/blog/categories/java' style='font-size: 160.0%'>Java(6)</a> <a href='/blog/categories/mean' style='font-size: 130.0%'>MEAN(3)</a> <a href='/blog/categories/mongodb' style='font-size: 130.0%'>MongoDB(3)</a> <a href='/blog/categories/nodejs' style='font-size: 130.0%'>NodeJS(3)</a> <a href='/blog/categories/spring' style='font-size: 110.0%'>Spring(1)</a> </span>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2017 - 辰风君 -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
  <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1254461506'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s95.cnzz.com/z_stat.php%3Fid%3D1254461506%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</p>

</footer>
  











</body>
</html>
